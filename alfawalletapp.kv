#:kivy 2.0.0
# Критически важно, чтобы название kv файла не совпадало с walletapp
ScreenManagement:

    LoginPage:
        id: login_page
    UserPage:
        id: user_page

<LoginPage>:
    name: "login_page"
    MDCard:
        size_hint: None, None
        size: 300, 400
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'

        MDSmartTile:
            radius: 24
            box_radius: [0, 0, 24, 24]
            box_color: 1, 1, 1, .2
            source: "images/login_page_image.jpg"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: None, None

        MDTextField:
            id: user
            mode: "round"
            hint_text: "username"
            icon_right: "account"
            size_hint_x: None
            width: 200
            font_size: 18
            pos_hint: {"center_x": 0.5}

        MDTextField:
            id: password
            mode: "round"
            hint_text: "password"
            icon_right: "eye-off"
            size_hint_x: None
            width: 200
            font_size: 18
            pos_hint: {"center_x": 0.5}
            password: True

        MDRoundFlatButton:
            text: "LOG IN"
            font_size: 12
            pos_hint: {"center_x": 0.5}
            text_color: "white"
            md_bg_color: (239/256, 49/256, 36/256, 1.0)
            on_press: app.root.current = "user_page"

        Widget:
            size_hint_y: None
            height: 10

<UserPage>:
    name: "user_page"
    opacity: 1
    MDBottomNavigation:
        
        MDBottomNavigationItem:
            id: navigation_bottom_1
            name: "screen 1"
            text:
            icon: 'card-multiple-outline'
            disabled: False

            FloatLayout:
                id: screen_1
                MDBoxLayout:
                    id: card_list
                    orientation: 'vertical'
                    padding: [0, 15]
                    spacing: 20
                    disabled: False
                    MDTextField:
                        id: search
                        mode: "round"
                        hint_text: "поиск..."
                        icon_right: "magnify"
                        size_hint_x: None
                        width: 400
                        font_size: 18
                        pos_hint: {"center_x": 0.5}
                    ScrollView:
                        do_scroll_x: False
                        do_scroll_y: True
                        MDBoxLayout:
                            adaptive_height: True
                            orientation: 'vertical'
                            padding: [0, 15]
                            spacing: 20
                            
                            ElementCard:


        MDBottomNavigationItem:
            id: navigation_bottom_2
            name: "screen 2"
            text:
            icon: 'plus-circle-outline'
            disabled: False
            MDBoxLayout:
                orientation: 'vertical'
                padding: [0, 15]
                spacing: 15
                MDTextField:
                    id: search
                    mode: "round"
                    hint_text: "поиск..."
                    icon_right: "magnify"
                    size_hint_x: None
                    width: 400
                    font_size: 18
                    pos_hint: {"center_x": 0.5}

                MDRoundFlatButton:
                    text: "Добавить карту магазина"
                    size_hint_x: None
                    width: 400
                    font_size: 15
                    pos_hint: {"center_x": 0.5}
                    on_press: app.root.current = "user_page"

                ScrollView:

                    do_scroll_x: False
                    do_scroll_y: True
                    MDBoxLayout:
                        adaptive_height: True
                        orientation: 'vertical'
                        padding: [0, 15]
                        spacing: 20
                        disabled: False
                        
                        ElementCard:


        MDBottomNavigationItem:
            id: navigation_bottom_3
            name: "screen 3"
            text:
            icon: 'account-settings-outline'
            disabled: False

            MDCard:
                size_hint: None, None
                size: 300, 400
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                elevation: 10
                padding: 25
                spacing: 25
                orientation: 'vertical'



<ElementCard>:
    #md_bg_color:69/255,55/255,86/255,1
    size_hint: None, None
    size: 288, 178
    pos_hint: {"center_x": 0.5, "center_y": 0.5}
    padding: 25
    spacing: 25
    orientation: 'vertical'
    on_release: self.show_qr()

<QrPage>:
    #md_bg_color:69/255,55/255,86/255,1
    background_color: (1,0,0,.5)
    opacity: 100
    size_hint: None, None
    size: 200, 400
    pos_hint: {"center_x": 0.5, "center_y": 0.5}
    padding: 25
    spacing: 25
    orientation: 'vertical'
    on_release: self.hide_qr()

